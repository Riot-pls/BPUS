<!--
    - Proyecto:         BPUS
    - Componente:       cambio-clave
    - Desarrollador:    Cristian Julián Andrade Murillo
    - Descripción:      Esta es la ventana en la que una se cambia de clave cuando el código de validación
                        es verificado.  
    -Última modificación:  18/05/2019   
-->
<app-header></app-header>
<div class="usco-card">
    <div class="card-uscoHeader">
        <h2>BANCO DE PROYECTOS</h2>
    </div>
    <div class="card-uscoContent">
        <h3 class="text-center ">¿OLVIDASTE LA CONTRASEÑA?</h3>
        <h6 class="text-center font-weight-lighter font-italic ">Por favor llene el formulario</h6>
        <br>
        <form [formGroup]="passwordForm" (ngSubmit)="savePassword()" appPasswordMismatch>
            <div class="mx-5 form-group">
                <label for="newPassword" class="font-weight-bold ">CONTRASEÑA NUEVA:</label>
                <div class="mb-2 input-group">
                    <input type="password" formControlName="newPassword" class="uscoInputs form-control" id="newPassword" placeholder="Digite una nueva contraseña" maxlength="30" pattern="(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&]).{8,30}" required>
                    <div class="input-group-append">
                        <button class="input-group-text input-inside-button" type="button" (click)="showpassword('newPassword','showpass1')"><i class='far fa-eye-slash' id="showpass1"></i></button>
                    </div>
                </div>
                <p>Usa 8 o más caracteres con una combinación de letras, números y símbolos</p>
            </div>
            <div *ngIf="newPassword.invalid && (newPassword.dirty || newPassword.touched)" class="alert alert-danger">
                <div *ngIf="newPassword.errors.required">
                    La contraseña es requerida.
                </div>
                <div *ngIf="newPassword.errors.invalidPassword">
                    Hay algo mal :)
                </div>
            </div>
            <div class="mx-5 form-group">
                <label for="confirmNewPassword" class="font-weight-bold ">CONFIRME SU CONTRASEÑA:</label>
                <div class="mb-2 input-group">
                    <input type="password" formControlName="confirmNewPassword" class="uscoInputs form-control" id="confirmNewPassword" placeholder="Confirme la contraseña" maxlength="30" required>
                    <div class="input-group-append">
                        <button class="input-group-text input-inside-button" type="button" (click)="showpassword('confirmNewPassword','showpass2')"><i class='far fa-eye-slash' id="showpass2"></i></button>
                    </div>
                </div>
            </div>
            <div *ngIf="confirmNewPassword?.invalid && (confirmNewPassword.dirty || confirmNewPassword.touched)" class="alert alert-danger">
                <div *ngIf="confirmNewPassword.errors.required">
                    La contraseña es requerida.
                </div>
            </div>
            <div *ngIf="passwordForm.errors?.mismatch && (passwordForm.touched || passwordForm.dirty)" class="alert alert-danger">
                Las contraseñas no coinciden.
            </div>
            <div class="txtcenter">
                <a routerLink="/inicio" class="mr-5 btn btn-info">CANCELAR</a>
                <button type="submit" [disabled]="!passwordForm.valid" class="btn uscoButton">CONFIRMAR</button>
            </div>
        </form>
    </div>
</div>
<app-footer></app-footer>